# Антиплагиат для кода

## Описание

Данная программа предназначена для выявления плагиата в коде. Она сравнивает коды двух программ и выдает процент уникальности кода.

## Запуск

Для запуска программы необходимо ввести в консоли следующую команду:

```python3 compare.py input.txt scores.txt ```

где input.txt - файл с названиями файлов программ, scores.txt - файл с результатами сравнения.

Пример файла input.txt:

```
files/main.py plagiat1/main.py
files/loss.py plagiat2/loss.py
files/loss.py files/loss.py
```

Пример файла scores.txt:

```
0.01
0.3
0.0
```

## Алгоритм

Для разбора кода используется библиотека ast. Для сравнения кода вычисляется функция zhang-shasha.

В целях оптимизации отбрасываются листья дерева разбора. Также отбрасываются листья, которые не содержат в себе никаких операторов.

Программа работает по умолчанию в 4 потока.

Оригинальными можно считать программы с процентом уникальности больше 50-60%. Чем длиньше программы, тем эта цифра должна быть больше.

## Генерация примеров

Также в проекте содержится скрипт для генерации примеров на основе папок с примерами кода: files, plagiat1, plagiat2. Для запуска скрипта необходимо ввести в консоли следующую команду:

```python3 generate_input.py --original /page/.../original --plagiat /page/.../plagiat --output /page/.../input_name.txt```

где original - папка с оригинальными программами, plagiat - папка с плагиатами, input_name.txt - файл с названиями файлов программ, в формате для скрипта compare.py.

## Константы

В файле compare.py можно изменить константу COUNT_OF_PROCESSES, которая отвечает за количество потоков используемых в программе.

В файле generate_input.py можно изменить константу COUNT_OF_EXAMPLES, которая отвечает за количество примеров, которые будут сгенерированы. Также можно изменить константу GENERATE_TEST_INPUT, которая отвечает за то, будут ли сгенерированы тестовые примеры не плагиата.